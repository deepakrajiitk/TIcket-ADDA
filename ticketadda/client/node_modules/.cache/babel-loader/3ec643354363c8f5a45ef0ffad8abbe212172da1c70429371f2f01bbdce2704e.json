{"ast":null,"code":"\"use strict\";\n\n/*\n * Copyright 2020 IBM All Rights Reserved.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AsyncNotifier = void 0;\nclass AsyncNotifier {\n  constructor(readCallback, notifyCallback) {\n    this.running = false;\n    this.readCallback = readCallback;\n    this.notifyCallback = notifyCallback;\n  }\n  notify() {\n    if (!this.running) {\n      this.running = true;\n      void this.run();\n    }\n  }\n  async run() {\n    // eslint-disable-next-line no-cond-assign\n    for (let event; event = this.readCallback();) {\n      await this.notifyCallback(event);\n    }\n    this.running = false;\n  }\n}\nexports.AsyncNotifier = AsyncNotifier;","map":{"version":3,"names":["AsyncNotifier","constructor","readCallback","notifyCallback","running","notify","run","event","exports"],"sources":["../../../src/impl/event/asyncnotifier.ts"],"sourcesContent":[null],"mappings":";;AAAA;;;;;;;;;AAMA,MAAaA,aAAa;EAKzBC,YAAYC,YAAiC,EAAEC,cAA8C;IAFrF,KAAAC,OAAO,GAAG,KAAK;IAGtB,IAAI,CAACF,YAAY,GAAGA,YAAY;IAChC,IAAI,CAACC,cAAc,GAAGA,cAAc;EACrC;EAEOE,MAAMA,CAAA;IACZ,IAAI,CAAC,IAAI,CAACD,OAAO,EAAE;MAClB,IAAI,CAACA,OAAO,GAAG,IAAI;MACnB,KAAK,IAAI,CAACE,GAAG,EAAE;;EAEjB;EACQ,MAAMA,GAAGA,CAAA;IAChB;IACA,KAAK,IAAIC,KAAK,EAAEA,KAAK,GAAG,IAAI,CAACL,YAAY,EAAE,GAAG;MAC7C,MAAM,IAAI,CAACC,cAAc,CAACI,KAAK,CAAC;;IAEjC,IAAI,CAACH,OAAO,GAAG,KAAK;EACrB;;AAtBDI,OAAA,CAAAR,aAAA,GAAAA,aAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}